{"version":3,"sources":["../src/bin.ts","../src/cli/commands/auth.command.ts","../src/cli/commands/auth-login.command.ts","../src/cli/commands/auth-logout.command.ts","../src/cli/commands/auth-status.command.ts","../src/cli/commands/auth-switch.command.ts","../src/cli/commands/version.command.ts"],"sourcesContent":["#!/usr/bin/env node\nimport { Command } from 'commander';\nimport { loadEvalCommand } from './cli/commands/eval.command';\nimport { loadAuthCommand } from './cli/commands/auth.command';\nimport { extractOverrides } from './cli/utils/parse-flag-overrides';\nimport { setupGlobalAuth } from './cli/auth/global-auth';\n\n// Load environment variables using @next/env\nimport pkg from '@next/env';\nimport { loadVersionCommand } from './cli/commands/version.command';\nconst { loadEnvConfig } = pkg;\n\n// Load .env files from the current working directory\nloadEnvConfig(process.cwd());\n\nconst { cleanedArgv, overrides } = extractOverrides(process.argv.slice(2));\n\nexport const program = new Command();\n\nprogram\n  .name('axiom')\n  .description(\"Axiom's CLI to manage your objects and run evals\")\n  .version(__SDK_VERSION__);\n\n// Global auth hook - runs before all commands except auth commands\nprogram.hook('preAction', async (_, actionCommand: Command) => {\n  // Skip auth setup for auth commands and version command\n  // Check both the command name and parent command name for nested commands\n  const commandName = actionCommand.name();\n  const parentCommand = actionCommand.parent;\n  const parentName = parentCommand?.name();\n\n  if (commandName === 'auth' || parentName === 'auth' || commandName === 'version') {\n    return;\n  }\n\n  try {\n    await setupGlobalAuth();\n  } catch (error) {\n    if (error instanceof Error) {\n      console.error(`\\n‚ùå ${error.message}\\n`);\n    } else {\n      console.error(`\\n‚ùå Unexpected error: ${String(error)}\\n`);\n    }\n    process.exit(1);\n  }\n});\n\nloadAuthCommand(program);\nloadEvalCommand(program, overrides);\nloadVersionCommand(program);\n\n// Parse cleaned argv (without --flag.* arguments)\nprogram.parse(['node', 'axiom', ...cleanedArgv]);\n","import type { Command } from 'commander';\nimport { loadAuthLoginCommand } from './auth-login.command';\nimport { loadAuthLogoutCommand } from './auth-logout.command';\nimport { loadAuthStatusCommand } from './auth-status.command';\nimport { loadAuthSwitchCommand } from './auth-switch.command';\n\nexport function loadAuthCommand(program: Command): void {\n  const auth = program.command('auth').description('Manage authentication with Axiom');\n\n  loadAuthLoginCommand(auth, program);\n  loadAuthLogoutCommand(auth, program);\n  loadAuthStatusCommand(auth, program);\n  loadAuthSwitchCommand(auth, program);\n}\n","import type { Command } from 'commander';\nimport { OAuth } from '../auth/oauth';\nimport { startCallbackServer, waitForCallback } from '../auth/callback-server';\nimport { getGlobalConfigPath, loadGlobalConfig, saveGlobalConfig } from '../auth/config';\nimport { fetchOrganizations, verifyToken } from '../auth/api';\nimport { AxiomCLIError } from '../../util/errors';\n\nconst BASE_HOSTNAME = 'axiom.co';\n\nconst getApiUrl = (hostname: string) => {\n  return `https://api.${hostname}`;\n};\n\nconst getOauthUrl = (hostname: string) => {\n  return `https://login.${hostname}`;\n};\n\nasync function promptSelect<T>(\n  message: string,\n  choices: Array<{ name: string; value: T }>,\n): Promise<T> {\n  console.log(`\\n${message}`);\n  choices.forEach((choice, index) => {\n    console.log(`  ${index + 1}. ${choice.name}`);\n  });\n\n  const readline = await import('readline');\n  const rl = readline.createInterface({\n    input: process.stdin,\n    output: process.stdout,\n  });\n\n  return new Promise((resolve) => {\n    const askQuestion = () => {\n      rl.question(`\\nSelect (1-${choices.length}): `, (answer) => {\n        const index = parseInt(answer.trim(), 10) - 1;\n        if (index >= 0 && index < choices.length) {\n          rl.close();\n          resolve(choices[index].value);\n        } else {\n          console.log('Invalid selection. Please try again.');\n          askQuestion();\n        }\n      });\n    };\n    askQuestion();\n  });\n}\n\nasync function promptInput(message: string, defaultValue?: string): Promise<string> {\n  const readline = await import('readline');\n  const rl = readline.createInterface({\n    input: process.stdin,\n    output: process.stdout,\n  });\n\n  return new Promise((resolve) => {\n    const prompt = defaultValue ? `${message} (${defaultValue}): ` : `${message}: `;\n    rl.question(prompt, (answer) => {\n      rl.close();\n      resolve(answer.trim() || defaultValue || '');\n    });\n  });\n}\n\nasync function openBrowser(url: string): Promise<void> {\n  const { default: open } = await import('open');\n  await open(url);\n}\n\nexport async function loginCommand(hostname: string): Promise<void> {\n  try {\n    console.log('üîê Starting authentication flow...\\n');\n\n    const codeVerifier = OAuth.generateCodeVerifier();\n    const codeChallenge = OAuth.generateCodeChallenge(codeVerifier);\n    const state = OAuth.generateState();\n    const oauth = new OAuth(getOauthUrl(hostname));\n\n    const { server, url: redirectUri } = await startCallbackServer();\n    console.log(`‚úì Started local callback server on ${redirectUri}\\n`);\n\n    const authUrl = oauth.buildAuthUrl({\n      redirectUri,\n      state,\n      codeChallenge,\n    });\n\n    console.log('Opening browser for authentication...');\n    console.log(`If the browser doesn't open, visit: ${authUrl}\\n`);\n\n    try {\n      await openBrowser(authUrl);\n    } catch {\n      console.log('Could not open browser automatically.\\n');\n    }\n\n    console.log('Waiting for authentication...');\n    const { code } = await waitForCallback(server, state);\n\n    console.log('‚úì Authentication successful, exchanging code for token...\\n');\n\n    const accessToken = await oauth.exchangeCodeForToken({\n      code,\n      redirectUri,\n      codeVerifier,\n    });\n\n    console.log('‚úì Token received, fetching organizations...\\n');\n\n    const organizations = await fetchOrganizations(accessToken, getApiUrl(hostname));\n\n    if (organizations.length === 0) {\n      throw new AxiomCLIError('No organizations found for this account');\n    }\n\n    let selectedOrgId: string;\n    if (organizations.length === 1) {\n      selectedOrgId = organizations[0].id;\n      console.log(`‚úì Using organization: ${organizations[0].name}\\n`);\n    } else {\n      selectedOrgId = await promptSelect(\n        'Select an organization:',\n        organizations.map((org) => ({\n          name: `${org.name} (${org.id})`,\n          value: org.id,\n        })),\n      );\n    }\n\n    const selectedOrg = organizations.find((org) => org.id === selectedOrgId)!;\n    const defaultAlias = selectedOrg.slug || selectedOrg.name.toLowerCase().replace(/\\s+/g, '-');\n\n    const alias = await promptInput('Enter profile alias', defaultAlias);\n\n    console.log('\\n‚úì Verifying credentials...\\n');\n    const isValid = await verifyToken(accessToken, selectedOrgId, getApiUrl(hostname));\n\n    if (!isValid) {\n      throw new AxiomCLIError('Token verification failed');\n    }\n\n    const config = await loadGlobalConfig();\n    config.active_profile = alias;\n    config.profiles[alias] = {\n      url: getApiUrl(hostname),\n      token: accessToken,\n      org_id: selectedOrgId,\n    };\n\n    await saveGlobalConfig(config);\n\n    console.log(`‚úì Successfully logged in as ${alias}`);\n    console.log(`‚úì Configuration saved to ${getGlobalConfigPath()}\\n`);\n  } catch (error) {\n    if (error instanceof AxiomCLIError) {\n      throw error;\n    }\n    throw new AxiomCLIError(`Login failed: ${(error as Error).message}`);\n  }\n}\n\nexport function loadAuthLoginCommand(auth: Command, root: Command): void {\n  [auth, root].forEach((program) => {\n    program\n      .command('login')\n      .description('Authenticate with Axiom')\n      .option('--hostname <hostname>', 'Axiom hostname (default: axiom.co)')\n      .action(async (options) => {\n        try {\n          await loginCommand(options.hostname ?? BASE_HOSTNAME);\n        } catch (error) {\n          if (error instanceof AxiomCLIError) {\n            console.error(`\\n‚ùå Error: ${error.message}\\n`);\n          } else {\n            console.error(`\\n‚ùå Unexpected error: ${(error as Error).message}\\n`);\n          }\n          process.exit(1);\n        }\n      });\n  });\n}\n","import type { Command } from 'commander';\nimport { loadGlobalConfig, saveGlobalConfig } from '../auth/config';\nimport { AxiomCLIError } from '../../util/errors';\n\nexport async function logoutCommand(alias?: string): Promise<void> {\n  const config = await loadGlobalConfig();\n\n  const profileToRemove = alias || config.active_profile;\n\n  if (!profileToRemove) {\n    throw new AxiomCLIError('No active profile. Use --alias to specify which profile to remove.');\n  }\n\n  if (!config.profiles[profileToRemove]) {\n    throw new AxiomCLIError(`Profile \"${profileToRemove}\" not found`);\n  }\n\n  delete config.profiles[profileToRemove];\n\n  if (config.active_profile === profileToRemove) {\n    const remainingProfiles = Object.keys(config.profiles);\n    config.active_profile = remainingProfiles.length > 0 ? remainingProfiles[0] : undefined;\n  }\n\n  await saveGlobalConfig(config);\n\n  console.log(`‚úì Logged out from ${profileToRemove}`);\n  if (config.active_profile) {\n    console.log(`‚úì Active profile is now: ${config.active_profile}`);\n  } else {\n    console.log('No active profiles remaining. Run \"axiom auth login\" to authenticate.');\n  }\n}\n\nexport function loadAuthLogoutCommand(auth: Command, root: Command): void {\n  [auth, root].forEach((program) => {\n    program\n      .command('logout')\n      .description('Remove authentication credentials')\n      .option('-a, --alias <alias>', 'Profile alias to remove')\n      .action(async (options) => {\n        try {\n          await logoutCommand(options.alias);\n        } catch (error) {\n          if (error instanceof AxiomCLIError) {\n            console.error(`\\n‚ùå Error: ${error.message}\\n`);\n          } else {\n            console.error(`\\n‚ùå Unexpected error: ${(error as Error).message}\\n`);\n          }\n          process.exit(1);\n        }\n      });\n  });\n}\n","import type { Command } from 'commander';\nimport { loadGlobalConfig, getActiveProfile } from '../auth/config';\nimport { verifyToken } from '../auth/api';\nimport { AxiomCLIError } from '../../util/errors';\n\nexport async function statusCommand(): Promise<void> {\n  const config = await loadGlobalConfig();\n\n  if (Object.keys(config.profiles).length === 0) {\n    console.log('No authenticated profiles found.');\n    console.log('Run \"axiom auth login\" to authenticate.');\n    return;\n  }\n\n  console.log('\\nAuthentication Status:\\n');\n\n  for (const [alias, profile] of Object.entries(config.profiles)) {\n    const isActive = config.active_profile === alias;\n    const marker = isActive ? '‚Üí' : ' ';\n\n    try {\n      const isValid = await verifyToken(profile.token, profile.org_id, profile.url);\n      const status = isValid ? '‚úì' : '‚úó';\n      const statusText = isValid ? 'Valid' : 'Invalid';\n\n      console.log(`${marker} ${status} ${alias}`);\n      console.log(`    URL: ${profile.url}`);\n      console.log(`    Org ID: ${profile.org_id}`);\n      console.log(`    Status: ${statusText}`);\n      if (isActive) {\n        console.log(`    (Active)`);\n      }\n      console.log();\n    } catch (error) {\n      console.log(`${marker} ‚úó ${alias}`);\n      console.log(`    URL: ${profile.url}`);\n      console.log(`    Org ID: ${profile.org_id}`);\n      console.log(`    Status: Error - ${(error as Error).message}`);\n      if (isActive) {\n        console.log(`    (Active)`);\n      }\n      console.log();\n    }\n  }\n\n  const activeProfile = getActiveProfile(config);\n  if (process.env.AXIOM_TOKEN) {\n    console.log('Note: Using AXIOM_TOKEN environment variable (overrides config file)\\n');\n  } else if (activeProfile && config.active_profile) {\n    console.log(`Active profile: ${config.active_profile}\\n`);\n  }\n}\n\nexport function loadAuthStatusCommand(auth: Command, program: Command): void {\n  [auth, program].forEach((program) => {\n    program\n      .command('status')\n      .description('Check authentication status for all profiles')\n      .action(async () => {\n        try {\n          await statusCommand();\n        } catch (error) {\n          if (error instanceof AxiomCLIError) {\n            console.error(`\\n‚ùå Error: ${error.message}\\n`);\n          } else {\n            console.error(`\\n‚ùå Unexpected error: ${(error as Error).message}\\n`);\n          }\n          process.exit(1);\n        }\n      });\n  });\n}\n","import type { Command } from 'commander';\nimport { loadGlobalConfig, saveGlobalConfig } from '../auth/config';\nimport { AxiomCLIError } from '../../util/errors';\n\nasync function promptSelect<T>(\n  message: string,\n  choices: Array<{ name: string; value: T }>,\n): Promise<T> {\n  console.log(`\\n${message}`);\n  choices.forEach((choice, index) => {\n    console.log(`  ${index + 1}. ${choice.name}`);\n  });\n\n  const readline = await import('readline');\n  const rl = readline.createInterface({\n    input: process.stdin,\n    output: process.stdout,\n  });\n\n  return new Promise((resolve) => {\n    const askQuestion = () => {\n      rl.question(`\\nSelect (1-${choices.length}): `, (answer) => {\n        const index = parseInt(answer.trim(), 10) - 1;\n        if (index >= 0 && index < choices.length) {\n          rl.close();\n          resolve(choices[index].value);\n        } else {\n          console.log('Invalid selection. Please try again.');\n          askQuestion();\n        }\n      });\n    };\n    askQuestion();\n  });\n}\n\nexport async function switchCommand(alias?: string): Promise<void> {\n  const config = await loadGlobalConfig();\n\n  if (Object.keys(config.profiles).length === 0) {\n    throw new AxiomCLIError(\n      'No authenticated profiles found. Run \"axiom auth login\" to authenticate.',\n    );\n  }\n\n  let selectedAlias: string;\n\n  if (alias) {\n    // Use provided alias\n    if (!config.profiles[alias]) {\n      throw new AxiomCLIError(`Profile \"${alias}\" not found`);\n    }\n    selectedAlias = alias;\n  } else {\n    // Prompt for selection\n    const profiles = Object.entries(config.profiles).map(([alias, profile]) => ({\n      name: `${alias} (${profile.url})`,\n      value: alias,\n    }));\n\n    if (profiles.length === 1) {\n      selectedAlias = profiles[0].value;\n      console.log(`‚úì Using profile: ${selectedAlias}\\n`);\n    } else {\n      selectedAlias = await promptSelect('Select a profile to switch to:', profiles);\n    }\n  }\n\n  // Check if already active\n  if (config.active_profile === selectedAlias) {\n    console.log(`‚úì Profile \"${selectedAlias}\" is already active\\n`);\n    return;\n  }\n\n  // Set as active\n  config.active_profile = selectedAlias;\n  await saveGlobalConfig(config);\n\n  console.log(`‚úì Switched to profile: ${selectedAlias}\\n`);\n}\n\nexport function loadAuthSwitchCommand(auth: Command, root: Command): void {\n  [auth, root].forEach((program) => {\n    program\n      .command('switch')\n      .description('Switch to a different profile')\n      .argument('[alias]', 'Profile alias to switch to')\n      .action(async (alias?: string) => {\n        try {\n          await switchCommand(alias);\n        } catch (error) {\n          if (error instanceof AxiomCLIError) {\n            console.error(`\\n‚ùå Error: ${error.message}\\n`);\n          } else {\n            console.error(`\\n‚ùå Unexpected error: ${(error as Error).message}\\n`);\n          }\n          process.exit(1);\n        }\n      });\n  });\n}\n","import { Command } from 'commander';\n\nexport const loadVersionCommand = (program: Command) => {\n  return program.addCommand(\n    new Command('version').description('cli version').action(() => {\n      console.log(__SDK_VERSION__);\n    }),\n  );\n};\n"],"mappings":"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","names":["Command","program","program","program","promptSelect","alias","program","program","program","Command"]}