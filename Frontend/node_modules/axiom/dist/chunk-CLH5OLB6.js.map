{"version":3,"sources":["../src/evals/name-validation-runtime.ts"],"sourcesContent":["import { AxiomCLIError } from '../util/errors';\nimport { appendFileSync } from 'node:fs';\nimport { isValidName } from '../util/name-validation-runtime';\n\n/**\n * Records an eval, scorer, capability, or step name\n * Uses a file to work cross-worker\n */\nexport function recordName(kind: 'eval' | 'scorer' | 'capability' | 'step', name: string): void {\n  const registryFile = process.env.AXIOM_NAME_REGISTRY_FILE;\n  if (registryFile) {\n    try {\n      appendFileSync(registryFile, JSON.stringify({ kind, name }) + '\\n', 'utf8');\n    } catch {\n      // Silently fail if we can't write to registry file\n    }\n  }\n}\n\n/**\n * Validates that a name contains only allowed characters (A-Z, a-z, 0-9, -, _)\n * and is not empty. Throws AxiomCLIError if validation fails.\n */\nexport function validateName(name: string, kind: 'eval' | 'scorer' | 'capability' | 'step'): void {\n  const validation = isValidName(name);\n  if (!validation.valid) {\n    throw new AxiomCLIError(`‚ùå ${kind} name: ${validation.error}`);\n  }\n}\n"],"mappings":";;;;;;;;;;;AAAA;AACA,SAAS,sBAAsB;AAOxB,SAAS,WAAW,MAAiD,MAAoB;AAC9F,QAAM,eAAe,QAAQ,IAAI;AACjC,MAAI,cAAc;AAChB,QAAI;AACF,qBAAe,cAAc,KAAK,UAAU,EAAE,MAAM,KAAK,CAAC,IAAI,MAAM,MAAM;AAAA,IAC5E,QAAQ;AAAA,IAER;AAAA,EACF;AACF;AAMO,SAAS,aAAa,MAAc,MAAuD;AAChG,QAAM,aAAa,YAAY,IAAI;AACnC,MAAI,CAAC,WAAW,OAAO;AACrB,UAAM,IAAI,cAAc,UAAK,IAAI,UAAU,WAAW,KAAK,EAAE;AAAA,EAC/D;AACF;","names":[]}